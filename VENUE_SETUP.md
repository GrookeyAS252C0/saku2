# 会場別アンケート設定手順

## 🎯 概要
URLパラメータを使用して複数会場でのアンケートを自動識別します。

## 📱 QRコード作成手順

### **通常時（1会場）**
普段のURL:
```
https://your-app.streamlit.app/
```

### **2会場同時開催時**

#### **A会場用QRコード**
URL:
```
https://your-app.streamlit.app/?venue=a
```

#### **B会場用QRコード**
URL:
```
https://your-app.streamlit.app/?venue=b
```

## 🔧 QRコード生成方法

### **オンラインQRコード生成ツール**
1. [QR Code Generator](https://www.qr-code-generator.com/) などにアクセス
2. 上記のURLを入力
3. QRコードをダウンロード

### **ラベル例**
```
A会場用:
┌─────────────────┐
│  [QRコード]      │
│                 │
│  A会場専用      │
│  アンケート     │
└─────────────────┘

B会場用:
┌─────────────────┐
│  [QRコード]      │
│                 │
│  B会場専用      │
│  アンケート     │
└─────────────────┘
```

## 📋 当日の運用

### **準備**
- A会場用QRコードを印刷/掲示
- B会場用QRコードを印刷/掲示
- 各会場スタッフに適切なQRコードを配布

### **参加者の操作**
1. 各会場でQRコードをスキャン
2. アンケートページが開く（会場名が表示される）
3. 普段通りアンケートに回答
4. 会場選択は不要（自動で判別）

## 📊 データの確認方法

### **Google Sheets**
会場列に以下のように記録されます：
```
| 送信日時    | 会場      | 学年      | 性別 | ...
|------------|-----------|-----------|------|
| 2025-06-14 | A会場     | 小学6年生 | 男子 | ...
| 2025-06-14 | B会場     | 小学5年生 | 女子 | ...
| 2025-06-14 | メイン会場 | 中学1年生 | 男子 | ...
```

### **管理画面での分析**
- 会場別での集計が可能
- フィルタリング機能で会場別表示
- CSV/Excel出力時も会場情報が含まれる

## 🔍 動作確認

### **テスト方法**
開発時に以下のURLでテスト：

1. **通常アクセス**: `http://localhost:8501/`
   → 「メイン会場」として記録

2. **A会場テスト**: `http://localhost:8501/?venue=a`
   → 「📍 会場：A会場」表示、「A会場」として記録

3. **B会場テスト**: `http://localhost:8501/?venue=b`
   → 「📍 会場：B会場」表示、「B会場」として記録

## ⚠️ 注意事項

### **QRコード管理**
- A会場とB会場のQRコードを間違えないよう明確にラベリング
- 当日配布時は各会場スタッフに適切なQRコードを渡す

### **URL直接入力**
- URLを直接入力した場合は「メイン会場」として記録
- QRコード経由でのアクセスを推奨

### **データ互換性**
- 既存のアンケートデータとも完全互換
- 会場情報がない古いデータは問題なく表示される

## 📞 トラブルシューティング

### **会場が表示されない**
- URLにパラメータが正しく含まれているか確認
- QRコードが正しいURLで生成されているか確認

### **データに会場情報がない**
- 直接URLアクセスの場合は「メイン会場」として記録される
- 問題ありません

### **古いQRコードとの併用**
- 既存のQRコード（パラメータなし）も引き続き使用可能
- 「メイン会場」として記録される